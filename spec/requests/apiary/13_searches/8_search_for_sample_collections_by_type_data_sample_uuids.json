
{"steps":[{"header":["Accept: application/json"],"response_header":["Content-Type: application/json"],"method":"POST","url":"/searches","setup":"sample1 = Lims::ManagementApp::Sample.new({\n    \"sanger_sample_id\" => \"S2-1\",\n    \"gender\" => \"Male\",\n    \"sample_type\" => \"RNA\",\n    \"taxon_id\" => 9606,\n    \"common_name\" => \"human\",\n    \"scientific_name\" => \"homo sapiens\"\n})\n\nsample2 = Lims::ManagementApp::Sample.new({\n    \"sanger_sample_id\" => \"S2-2\",\n    \"gender\" => \"Female\",\n    \"sample_type\" => \"RNA\",\n    \"taxon_id\" => 9606,\n    \"common_name\" => \"human\",\n    \"scientific_name\" => \"homo sapiens\"\n})\n\nsample3 = Lims::ManagementApp::Sample.new({\n    \"sanger_sample_id\" => \"S2-3\",\n    \"gender\" => \"Male\",\n    \"sample_type\" => \"RNA\",\n    \"taxon_id\" => 9606,\n    \"common_name\" => \"human\",\n    \"scientific_name\" => \"homo sapiens\"\n})\n\ncollection1 = Lims::ManagementApp::SampleCollection.new({\n  :type => \"Study\",\n  :data => [\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataString.new(:key => \"key_string\", \"value\" => \"value string\"),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataBool.new(:key => \"key_bool\", \"value\" => true),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataUuid.new(:key => \"key_uuid\", \"value\" => \"11111111-0000-0000-0000-000000000000\"),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataUrl.new(:key => \"key_url\", \"value\" => \"http://www.sanger.ac.uk\"),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataInt.new(:key => \"key_int\", \"value\" => 132)\n  ],\n  :samples => [sample1, sample2]\n})\n\ncollection2 = Lims::ManagementApp::SampleCollection.new({\n  :type => \"User\",\n  :data => [\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataString.new(:key => \"key_string\", \"value\" => \"value string 2\"),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataBool.new(:key => \"key_bool\", \"value\" => false),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataBool.new(:key => \"key_bool2\", \"value\" => true),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataUuid.new(:key => \"key_uuid\", \"value\" => \"11111111-0000-0000-0000-111111111111\"),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataUrl.new(:key => \"key_url\", \"value\" => \"http://www.sanger.ac.uk\"),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataInt.new(:key => \"key_int\", \"value\" => 245)\n  ],\n  :samples => [sample2]\n})\n\ncollection3 = Lims::ManagementApp::SampleCollection.new({\n  :type => \"User\",\n  :data => [\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataString.new(:key => \"key_string\", \"value\" => \"value string 3\"),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataBool.new(:key => \"key_bool\", \"value\" => false),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataBool.new(:key => \"key_bool2\", \"value\" => true),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataUrl.new(:key => \"key_url\", \"value\" => \"http://www.sanger.ac.uk\"),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataInt.new(:key => \"key_int\", \"value\" => 245),\n      Lims::ManagementApp::SampleCollection::SampleCollectionData::DataInt.new(:key => \"key_int2\", \"value\" => 789)\n  ],\n  :samples => [sample1, sample2, sample3]\n})\n\nsave_with_uuid({\n  collection1 => [1,2,3,4,6], collection2 => [1,2,3,4,7], collection3 => [1,2,3,4,8],\n  sample1 => [1,0,0,0,1], sample2 => [1,0,0,0,2], sample3 => [1,0,0,0,3]\n})\n","parameters":"{ \"search\": {\n  \"description\": \"search for sample collections by type, data and sample uuids\",\n  \"model\": \"sample_collection\",\n  \"criteria\": {\n    \"type\": \"User\",\n    \"data\": {\n      \"key_bool\": false,\n      \"key_int2\": 789\n    },\n    \"sample_uuids\": [\"11111111-0000-0000-0000-111111111111\",\"11111111-0000-0000-0000-222222222222\"]\n  }\n}}\n","status":200,"response":"{\n  \"search\": {\n    \"actions\": {\n      \"read\": \"http://example.org/11111111-2222-3333-4444-555555555555\",\n      \"first\": \"http://example.org/11111111-2222-3333-4444-555555555555/page=1\",\n      \"last\": \"http://example.org/11111111-2222-3333-4444-555555555555/page=-1\"\n    },\n    \"uuid\": \"11111111-2222-3333-4444-555555555555\"\n  }\n}\n"},{"header":["Accept: application/json"],"response_header":["Content-Type: application/json"],"method":"GET","url":"/11111111-2222-3333-4444-555555555555/page=1","status":200,"response":"{\n  \"actions\": {\n    \"read\": \"http://example.org/11111111-2222-3333-4444-555555555555/page=1\",\n    \"first\": \"http://example.org/11111111-2222-3333-4444-555555555555/page=1\",\n    \"last\": \"http://example.org/11111111-2222-3333-4444-555555555555/page=-1\"\n  },\n  \"size\": 1,\n  \"sample_collections\": [\n    {\n      \"actions\": {\n        \"read\": \"http://example.org/11111111-2222-3333-4444-888888888888\",\n        \"create\": \"http://example.org/11111111-2222-3333-4444-888888888888\",\n        \"update\": \"http://example.org/11111111-2222-3333-4444-888888888888\",\n        \"delete\": \"http://example.org/11111111-2222-3333-4444-888888888888\"\n      },\n      \"uuid\": \"11111111-2222-3333-4444-888888888888\",\n      \"type\": \"User\",\n      \"data\": {\n        \"key_string\": \"value string 3\",\n        \"key_bool\": false,\n        \"key_bool2\": true,\n        \"key_int\": 245,\n        \"key_int2\": 789,\n        \"key_url\": \"http://www.sanger.ac.uk\"\n      },\n      \"samples\": [\n        {\n          \"actions\": {\n            \"read\": \"http://example.org/11111111-0000-0000-0000-111111111111\",\n            \"create\": \"http://example.org/11111111-0000-0000-0000-111111111111\",\n            \"update\": \"http://example.org/11111111-0000-0000-0000-111111111111\",\n            \"delete\": \"http://example.org/11111111-0000-0000-0000-111111111111\"\n          },\n          \"uuid\": \"11111111-0000-0000-0000-111111111111\",\n          \"state\": null,\n          \"supplier_sample_name\": null,\n          \"gender\": \"Male\",\n          \"sanger_sample_id\": \"S2-1\",\n          \"sample_type\": \"RNA\",\n          \"scientific_name\": \"Homo sapiens\",\n          \"common_name\": \"human\",\n          \"hmdmc_number\": null,\n          \"ebi_accession_number\": null,\n          \"sample_source\": null,\n          \"mother\": null,\n          \"father\": null,\n          \"sibling\": null,\n          \"gc_content\": null,\n          \"public_name\": null,\n          \"cohort\": null,\n          \"storage_conditions\": null,\n          \"taxon_id\": 9606,\n          \"volume\": null,\n          \"date_of_sample_collection\": null,\n          \"is_sample_a_control\": null,\n          \"is_re_submitted_sample\": null\n        },\n        {\n          \"actions\": {\n            \"read\": \"http://example.org/11111111-0000-0000-0000-222222222222\",\n            \"create\": \"http://example.org/11111111-0000-0000-0000-222222222222\",\n            \"update\": \"http://example.org/11111111-0000-0000-0000-222222222222\",\n            \"delete\": \"http://example.org/11111111-0000-0000-0000-222222222222\"\n          },\n          \"uuid\": \"11111111-0000-0000-0000-222222222222\",\n          \"state\": null,\n          \"supplier_sample_name\": null,\n          \"gender\": \"Female\",\n          \"sanger_sample_id\": \"S2-2\",\n          \"sample_type\": \"RNA\",\n          \"scientific_name\": \"Homo sapiens\",\n          \"common_name\": \"human\",\n          \"hmdmc_number\": null,\n          \"ebi_accession_number\": null,\n          \"sample_source\": null,\n          \"mother\": null,\n          \"father\": null,\n          \"sibling\": null,\n          \"gc_content\": null,\n          \"public_name\": null,\n          \"cohort\": null,\n          \"storage_conditions\": null,\n          \"taxon_id\": 9606,\n          \"volume\": null,\n          \"date_of_sample_collection\": null,\n          \"is_sample_a_control\": null,\n          \"is_re_submitted_sample\": null\n        },\n        {\n          \"actions\": {\n            \"read\": \"http://example.org/11111111-0000-0000-0000-333333333333\",\n            \"create\": \"http://example.org/11111111-0000-0000-0000-333333333333\",\n            \"update\": \"http://example.org/11111111-0000-0000-0000-333333333333\",\n            \"delete\": \"http://example.org/11111111-0000-0000-0000-333333333333\"\n          },\n          \"uuid\": \"11111111-0000-0000-0000-333333333333\",\n          \"state\": null,\n          \"supplier_sample_name\": null,\n          \"gender\": \"Male\",\n          \"sanger_sample_id\": \"S2-3\",\n          \"sample_type\": \"RNA\",\n          \"scientific_name\": \"Homo sapiens\",\n          \"common_name\": \"human\",\n          \"hmdmc_number\": null,\n          \"ebi_accession_number\": null,\n          \"sample_source\": null,\n          \"mother\": null,\n          \"father\": null,\n          \"sibling\": null,\n          \"gc_content\": null,\n          \"public_name\": null,\n          \"cohort\": null,\n          \"storage_conditions\": null,\n          \"taxon_id\": 9606,\n          \"volume\": null,\n          \"date_of_sample_collection\": null,\n          \"is_sample_a_control\": null,\n          \"is_re_submitted_sample\": null\n        }\n      ]\n    }\n  ]\n}\n"}]}
